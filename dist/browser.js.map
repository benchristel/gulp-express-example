{"version":3,"sources":["browser.js","node_modules/browser-pack/_prelude.js","node_modules/@benchristel/yavanna/index.js","../../../../source/shared/prelude.js","../../../../source/browser/lib/User.js","../../../../source/browser/main.js"],"names":["_typeof","Symbol","iterator","obj","constructor","e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","Yavanna","validateProvideArgs","name","factory","registeredFactories","validateGetArgs","cache","provender","self","provide","Object","defineProperty","get","2","global","window","User","addEventListener","console","log","this","@benchristel/yavanna"],"mappings":"AAAA,YAEA,IAAIA,SAA4B,kBAAXC,SAAoD,gBAApBA,QAAOC,SAAwB,SAAUC,KAAO,aAAcA,MAAS,SAAUA,KAAO,MAAOA,MAAyB,kBAAXF,SAAyBE,IAAIC,cAAgBH,OAAS,eAAkBE,OCF1O,QAAAE,GAAAC,EAAAC,EAAAC,GAAA,QAAAC,GAAAC,EAAAC,GAAA,IAAAJ,EAAAG,GAAA,CAAA,IAAAJ,EAAAI,GAAA,CAAA,GAAAE,GAAA,kBAAAC,UAAAA,OAAA,KAAAF,GAAAC,EAAA,MAAAA,GAAAF,GAAA,EAAA,IAAAI,EAAA,MAAAA,GAAAJ,GAAA,EAAA,IAAAK,GAAA,GAAAC,OAAA,uBAAAN,EAAA,IAAA,MAAAK,GAAAE,KAAA,mBAAAF,EAAA,GAAAG,GAAAX,EAAAG,IAAAS,WAAAb,GAAAI,GAAA,GAAAU,KAAAF,EAAAC,QAAA,SAAAd,GAAA,GAAAE,GAAAD,EAAAI,GAAA,GAAAL,EAAA,OAAAI,GAAAF,EAAAA,EAAAF,IAAAa,EAAAA,EAAAC,QAAAd,EAAAC,EAAAC,EAAAC,GAAA,MAAAD,GAAAG,GAAAS,QAAA,IAAA,GAAAL,GAAA,kBAAAD,UAAAA,QAAAH,EAAA,EAAAA,EAAAF,EAAAa,OAAAX,IAAAD,EAAAD,EAAAE,GAAA,OAAAD,KAAAa,GAAA,SAAAT,QAAAU,OAAAJ,SCAA,QAAAK,WA6BA,QAAAC,qBAAAC,KAAAC,SACA,GAAA,gBAAAD,MACA,KAAA,IAAAV,OAAA,wDAGA,IAAA,kBAAAW,SACA,KAAAX,OAAA,gGAAAU,KAAA,KAGA,IAAAE,oBAAAF,MACA,KAAAV,OAAA,mEAAAU,KAAA,MAIA,QAAAG,iBAAAH,MACA,IAAAE,oBAAAF,MACA,KAAAV,OAAA,uCAAAU,KAAA,MA5CA,GAAAI,UACAF,uBACAG,aAEAC,OA4CA,OA1CAA,MAAAC,QAAA,SAAAP,KAAAC,SASA,MARAF,qBAAAC,KAAAC,SAEAC,oBAAAF,MAAAC,QAEAO,OAAAC,eAAAJ,UAAAL,MACAU,IAAA,WAAA,MAAAJ,MAAAI,IAAAV,SAGAC,SAGAK,KAAAI,IAAA,SAAAV,MAOA,MANAG,iBAAAH,MAEAI,MAAAJ,QACAI,MAAAJ,MAAAE,oBAAAF,MAAAK,YAGAD,MAAAJ,OAuBAM,KAGAT,OAAAJ,QAAAK,aFGMa,GAAG,SAASxB,QAAQU,OAAOJ,UACjC,SAAWmB,SACT,WGzDF,GAAAd,SAAAX,QAAA,yBAEA,aAAA,mBAAA0B,QAAA,YAAAvC,QAAAuC,WAAAA,OAAAf,QAAAA,SACA,YAAA,mBAAAc,QAAA,YAAAtC,QAAAsC,WAAAA,OAAAd,QAAAA,YH+DE,WIlEFA,QAAAS,QAAA,OAAA,WACA,MAAA,YAAA,OAAAP,KAAA,aJyEE,WK1EF,GAAAc,MAAAhB,QAAAY,IAAA,OAEAG,QAAAE,iBAAA,OAAA,WACAC,QAAAC,IAAA,gBAAAH,OAAAd,aLkFGN,KAAKwB,KAAuB,mBAAXN,QAAyBA,OAAyB,mBAATN,MAAuBA,KAAyB,mBAAXO,QAAyBA,aAExHM,uBAAuB,SAAS","file":"browser.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\nfunction Yavanna() {\n  var cache = {}\n  var registeredFactories = {}\n  var provender = {}\n\n  var self = {}\n\n  self.provide = function(name, factory) {\n    validateProvideArgs(name, factory)\n\n    registeredFactories[name] = factory\n\n    Object.defineProperty(provender, name, {\n      get: function() { return self.get(name) }\n    })\n\n    return factory\n  }\n\n  self.get = function(name) {\n    validateGetArgs(name)\n\n    if (!cache[name]) {\n      cache[name] = registeredFactories[name](provender)\n    }\n\n    return cache[name]\n  }\n\n  function validateProvideArgs(name, factory) {\n    if (typeof name !== 'string') {\n      throw new Error('Yavanna.provide expects a name as the first argument.')\n    }\n\n    if (typeof factory !== 'function') {\n      throw Error('Yavanna.provide expects a factory function as the second argument. Check the declaration of `' + name + '`.')\n    }\n\n    if (registeredFactories[name]) {\n      throw Error('Yavanna: cannot override the previously registered factory for `' + name + '`.')\n    }\n  }\n\n  function validateGetArgs(name) {\n    if (!registeredFactories[name]) {\n      throw Error('Yavanna: no factory registered for `' + name + '`.')\n    }\n  }\n\n  return self\n}\n\nmodule.exports = Yavanna\n\n},{}],2:[function(require,module,exports){\n(function (global){\n;(function() {\n\"use strict\";\n\nconst Yavanna = require('@benchristel/yavanna')()\n\nif (typeof window === 'object') window.Yavanna = Yavanna\nif (typeof global === 'object') global.Yavanna = Yavanna\n}());\n\n;(function() {\n\"use strict\";\n\nYavanna.provide('User', () => {\n  return () => { return {name: 'bob'} }\n})\n}());\n\n;(function() {\n\"use strict\";\n\nconst User = Yavanna.get('User')\n\nwindow.addEventListener('load', function () {\n  console.log('users name is', User().name)\n})\n}());\n\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{\"@benchristel/yavanna\":1}]},{},[2])\n\n","(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","function Yavanna() {\n  var cache = {}\n  var registeredFactories = {}\n  var provender = {}\n\n  var self = {}\n\n  self.provide = function(name, factory) {\n    validateProvideArgs(name, factory)\n\n    registeredFactories[name] = factory\n\n    Object.defineProperty(provender, name, {\n      get: function() { return self.get(name) }\n    })\n\n    return factory\n  }\n\n  self.get = function(name) {\n    validateGetArgs(name)\n\n    if (!cache[name]) {\n      cache[name] = registeredFactories[name](provender)\n    }\n\n    return cache[name]\n  }\n\n  function validateProvideArgs(name, factory) {\n    if (typeof name !== 'string') {\n      throw new Error('Yavanna.provide expects a name as the first argument.')\n    }\n\n    if (typeof factory !== 'function') {\n      throw Error('Yavanna.provide expects a factory function as the second argument. Check the declaration of `' + name + '`.')\n    }\n\n    if (registeredFactories[name]) {\n      throw Error('Yavanna: cannot override the previously registered factory for `' + name + '`.')\n    }\n  }\n\n  function validateGetArgs(name) {\n    if (!registeredFactories[name]) {\n      throw Error('Yavanna: no factory registered for `' + name + '`.')\n    }\n  }\n\n  return self\n}\n\nmodule.exports = Yavanna\n","const Yavanna = require('@benchristel/yavanna')()\n\nif (typeof window === 'object') window.Yavanna = Yavanna\nif (typeof global === 'object') global.Yavanna = Yavanna\n","Yavanna.provide('User', () => {\n  return () => { return {name: 'bob'} }\n})\n","const User = Yavanna.get('User')\n\nwindow.addEventListener('load', function () {\n  console.log('users name is', User().name)\n})\n"],"sourceRoot":"/source/"}